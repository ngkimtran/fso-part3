{"version":3,"sources":["services/persons.js","PersonForm.js","Persons.js","Filter.js","Notification.js","App.js","index.js"],"names":["url","axios","get","then","response","data","newObject","post","id","put","delete","PersonForm","newName","newNumber","handleNameChange","handleNumberChange","handleAdd","onSubmit","style","textAlign","type","onChange","value","Persons","persons","handleDelete","map","p","name","number","onClick","window","confirm","Filter","searchParam","handleSearch","Notification","message","messageClass","className","App","useState","setPersons","setNewName","setNewNumber","setSearchParam","setMessage","errorMessage","setErrorMessage","personsFilter","filter","toLowerCase","includes","useEffect","personService","initialPersons","catch","error","console","log","handleUpdate","person","find","trim","changedPerson","returnedPerson","setTimeout","e","target","preventDefault","personObject","some","concat","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cb2074d2.chunk.js","sourcesContent":["/* eslint-disable import/no-anonymous-default-export*/\r\n\r\nimport axios from 'axios'\r\nconst url = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(url)\r\n    const response = request.then(response => response.data)\r\n    return response\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(url, newObject)\r\n    const response = request.then(response => response.data)\r\n    return response\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${url}/${id}`, newObject)\r\n    const response = request.then(response => response.data)\r\n    return response\r\n}\r\n\r\nconst remove = (id) => {\r\n    return axios.delete(`${url}/${id}`)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React from 'react'\r\n\r\nconst PersonForm = ({newName, newNumber, handleNameChange, handleNumberChange, handleAdd}) => {\r\n    \r\n\r\n    return (\r\n        <form onSubmit={handleAdd} >\r\n            <table style={{textAlign:'left'}}>\r\n                <tbody>\r\n                <tr>\r\n                    <th>name:</th>\r\n                    <td>\r\n                        <input \r\n                            type='text' \r\n                            onChange={handleNameChange} \r\n                            value={newName} \r\n                        />\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <th>number:</th>\r\n                    <td>\r\n                        <input \r\n                            type='tel' \r\n                            onChange={handleNumberChange} \r\n                            value={newNumber} \r\n                        />\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td>\r\n                        <button type=\"submit\">add</button>\r\n                    </td>\r\n                </tr>\r\n                </tbody>\r\n             </table>\r\n        </form>  \r\n        \r\n    )\r\n}\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst Persons = ({ persons, handleDelete }) => {\r\n    const handleClick =(id, name) => {\r\n        if (window.confirm(`Delete ${name}?`)) \r\n            handleDelete(id)\r\n    }\r\n\r\n    return (\r\n        <table><tbody>\r\n            {persons.map(p => (\r\n                <tr key={p.id}>\r\n                    <td>{p.name}</td>\r\n                    <td>{p.number}</td>\r\n                    <td>\r\n                        <button onClick={() => {handleClick(p.id, p.name)}}>\r\n                            delete\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            ))}\r\n        </tbody></table>\r\n    )\r\n}\r\n\r\nexport default Persons\r\n","import React from 'react'\r\n\r\nconst Filter = ({searchParam, handleSearch}) => {\r\n    return (\r\n        <div>\r\n            <p>filter shown with</p>\r\n            <input \r\n                type='text' \r\n                onChange={handleSearch} \r\n                value={searchParam} \r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst Notification = ({ message, messageClass }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    \r\n    return (\r\n        <div className={messageClass}>\r\n          {message}\r\n        </div>\r\n      )\r\n}\r\n\r\nexport default Notification\r\n","import React, { useState, useEffect } from 'react'\n\nimport personService from './services/persons'\nimport PersonForm from './PersonForm'\nimport Persons from './Persons'\nimport Filter from './Filter'\nimport Notification from './Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchParam, setSearchParam ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  const personsFilter = persons.filter(p => p.name.toLowerCase().includes(searchParam.toLowerCase()))\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n      .catch(error => {\n        console.log(error)\n      })\n  }, [])\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value)\n  }\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value)\n  }\n  \n  const handleSearch = (e) => {\n    setSearchParam(e.target.value)   \n  }\n\n  const handleAdd = (e) => { \n    e.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    }\n    persons.some(p => p.name.toLowerCase() === newName.trim().toLowerCase())\n      ? handleUpdate(newName)\n      : personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setMessage(`Added ${newName}`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          console.log(error)\n          setErrorMessage(error.response.data.error)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    setNewName('')\n    setNewNumber('')\n  }\n  \n  const handleUpdate = (name) => {\n    if(window.confirm(`${name} is already added to phonebook, replace old number with a new one?`)){\n        const person = persons.find(p => p.name.toLowerCase() === name.trim().toLowerCase())\n        const changedPerson = {...person, number: newNumber}\n\n        personService\n          .update(person.id, changedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(p => p.id !== person.id ? p : returnedPerson))\n            setMessage(`Updated ${person.name} phone number to ${newNumber}`)\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            console.log(error)\n            setErrorMessage(error.response.data.error)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n    }\n  }\n\n  const handleDelete = (id) => {\n    personService\n      .remove(id)\n      .then(setPersons(persons.filter(p => p.id !== id)))\n      .catch(error => {\n        console.error(error)\n      })\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} messageClass='notification' />\n      <Notification message={errorMessage} messageClass='error' />\n      <Filter \n        searchParam={searchParam}\n        handleSearch={handleSearch}\n      />\n      <h3>Add a new</h3>\n      <PersonForm \n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n        handleAdd={handleAdd}\n      />\n      <h3>Numbers</h3>\n      <Persons persons={searchParam.length>0 ? personsFilter : persons} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}